<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="format-detection" content="telephone=no">
<title>HLA</title>
<meta name="viewport" content="user-scalable=1, initial-scale=1, maximum-scale=5, minimum-scale=1, target-densitydpi=device-dpi" />
<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" charset="utf-8" src="cordova-2.1.0.js"></script>
<script type="text/javascript" charset="utf-8" src="js/jquery-1.8.2.min.js"></script>
<script type="text/javascript" charset="utf-8" src="js/hla.js"></script>
<script type="text/javascript" charset="utf-8">
    var db;
    var shortName = 'WebSqlDB';
    var version = '1.0';
    var displayName = 'WebSqlDB';
    var maxSize = 65535;
    var siNo = '';
    var planCode = '';
    var planName = '';
    var cashPaymentD = '';
    var mcashPaymentD = '';
    var FirstAge = '';
    //var cashPayment = 0;
    
    function errorHandler(transaction, error) {
        alert('Error: ' + error.message + ' code: ' + error.code);
    }
    
    function successCallBack() {
        alert("DEBUGGING: success");
        
    }
    
    function nullHandler(){};
    
    function onBodyLoad(){
        //alert($('#aa').text())
    	//alert("DEBUGGING: we are in the onBodyLoad() function");
        if (!window.openDatabase) {
            alert('Databases are not supported in this browser.');
            return;
        }
            
        db = openDatabase(shortName, version, displayName,maxSize);
        ListDBValues();
        calcTotal();
    }
    
    function dbexe(){
        db.transaction(function(transaction) {
                       transaction.executeSql('SELECT * FROM SI_Temp_Trad_Details;', [], function(transaction, result) {
                                              if (result != null && result.rows != null) {
                                              var row;
                                              for (var i = 0; i < result.rows.length; i++) {
                                              var row = result.rows.item(i);
                                              }
        
                                              }
                                              },errorHandler);
                       },errorHandler,nullHandler);
    }
    
    function ListDBValues() {
        
        if (!window.openDatabase) {
            alert('Databases are not supported in this browser.');
            return;
        }
        
        
        db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM SI_Temp_Trad", [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row;
                    for (var i = 0; i < result.rows.length; i++) {
                        var row = result.rows.item(i);
                        $('#SICode').html(row.SINo);
                        siNo = row.SINo;
                        planName = row.PlanName;
                        planCode = row.PlanCode;                    
                    }
                }
                else{
                                   alert('No data can be found');
                    }
                                   
            },errorHandler);
        },errorHandler,nullHandler);
        
	db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM SI_Temp_Trad_LA where SINo = '" + siNo + "'", [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row;
                    if(result.rows.length == 1){
	                  var row = result.rows.item(0);
			 FirstAge = row.Age;
                    }
                }
            },errorHandler);
        },errorHandler,nullHandler);
	
        db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM Trad_Details WHERE SINo = '" + siNo + "'", [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row = result.rows.item(0);
                	//$('#dateModified').html(row.UpdatedAt);
			//$('#PrintDate').html(row.UpdatedAt).replace('-', '/');
			$('#PremPayYear').html(row.PremiumPaymentOption);
			$('#BasicSA').html(row.BasicSA);
			$('#PolTerm').html(row.PolicyTerm);
			
			var now = new Date();
			var displayDate = now.getDate() + '/' + (now.getMonth() + 1) + '/' + now.getFullYear();
			var displayDateFull = now.getDate() + '/' + (now.getMonth() + 1) + '/' + now.getFullYear() + ' ' + now.getHours() + ':' + now.getMinutes() + ':' + now.getSeconds();
			$('#dateModified').html(displayDateFull);
			$('#PrintDate').html(displayDate);
                }
            },errorHandler);
        },errorHandler,nullHandler);
        
	db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM Trad_Rider_Details WHERE SINo = '" + siNo + "' AND RiderCode = 'C+'", [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    for(var i = 0; i <result.rows.length; i++){
			var row = result.rows.item(i);
			if(row.RiderCode == 'C+' ){
			    if(row.PlanOption == 'Increasing_NCB' || row.PlanOption == 'Level_NCB'){
				if(row.PlanOption == 'Level_NCB'){
				    $('#PlanOption').html('Perlindungan Biasa and Faedah Tanpa Tuntutan');
				    $('#PlanOption1').html('Perlindungan Biasa and Faedah Tanpa Tuntutan');
				    $('#PlanOption2').html('Perlindungan Biasa and Faedah Tanpa Tuntutan');
				    $('#PlanOption3').html('Perlindungan Biasa and Faedah Tanpa Tuntutan');
				}
				else{
				    $('#PlanOption').html('Perlindungan Meningkat and Faedah Tanpa Tuntutan');
				    $('#PlanOption1').html('Perlindungan Meningkat and Faedah Tanpa Tuntutan');
				    $('#PlanOption2').html('Perlindungan Meningkat and Faedah Tanpa Tuntutan');
				    $('#PlanOption3').html('Perlindungan Meningkat and Faedah Tanpa Tuntutan');
				}
				
			    }
			    else{
				if(row.PlanOption == 'Level'){
				    $('#PlanOption').html(' Perlindungan Biasa');
				    $('#PlanOption1').html(' Perlindungan Biasa');
				    $('#PlanOption2').html(' Perlindungan Biasa');
				    $('#PlanOption3').html(' Perlindungan Biasa');    
			        }
				else{
				    $('#PlanOption').html(' Perlindungan Meningkat');
				    $('#PlanOption1').html(' Perlindungan Meningkat');
				    $('#PlanOption2').html(' Perlindungan Meningkat');
				    $('#PlanOption3').html(' Perlindungan Meningkat');    
				}
				
			    }
			    
			    $('#SumAssured').html(row.SumAssured);
			    $('#RiderTerm').html(row.RiderTerm);
			    $('#PayableAge').html((parseInt(row.RiderTerm) + parseInt(FirstAge)));
			    
			    if(row.PlanOption == 'Level' || row.PlanOption == 'Level_NCB' ){
				$('#VeryEarlyCancers').html(formatCurrency( parseFloat(row.SumAssured) * 0.5));
				$('#EarlyCancers').html(formatCurrency(parseFloat(row.SumAssured) * 1.5));
				$('#AdvancedCancers').html(formatCurrency(parseFloat(row.SumAssured) * 2.5));
				$('#OptionalText').html('');
				
			    }
			    else{
				$('#VeryEarlyCancers').html(formatCurrency(parseFloat(row.SumAssured) * 0.5));
				$('#EarlyCancers').html(formatCurrency(parseFloat(row.SumAssured) * 1.5));
				$('#AdvancedCancers').html(formatCurrency(parseFloat(row.SumAssured) * 2.5));
				
				$('#OptionalText').html('<u><b>Guaranteed Increasing Sum Assured</b></u><br/>The Rider Sum Assured shall increase by 10% every 2 years with' +
							'the first such increase starting on 2nd Anniversary of the Commencement Date of this Policy and the last on the 20th ' +
							'Anniversary of this Policy and remains level thereafter.');
			    }
			    
			    if(row.PlanOption == 'Level_NCB' || row.PlanOption == 'Increasing_NCB' ){
				$('#OptionalText1').html('<u><b>No Claim Benefit</b></u><br/>Upon survival of the Life Assured on the Expiry Date of this Policy and ' +
							 'provided that no claim has been admitted prior to this date, the Company will pay ' +
							 'the Policy Owner a No Claim benefit equivalent to RM ' + formatCurrency(row.SumAssured));
			    }
			    else{
    				$('#OptionalText1').html('');
			    }
			}
		    }
                }
            },errorHandler);
        },errorHandler,nullHandler);
        
        db.transaction(function(transaction) {
            transaction.executeSql('SELECT * FROM SI_Store_Premium WHERE Type = "C+";', [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row;
                    
                        var row = result.rows.item(0);
			$('#ValueA').html(row.Annually);                      
                        $('#ValueB').html(row.SemiAnnually);
			$('#ValueC').html(row.Quarterly);
			$('#ValueD').html(row.Monthly);                      
                }
            },errorHandler);
        },errorHandler,nullHandler);
        return;
    }
    
    function calcTotal(){
        //alert($('#row0col5').text())
    }

    function formatCurrency(num) {
        if(num == '-'){
            return ('-');
        }
        num = num.toString().replace(/\$|\,/g, '');
        if (isNaN(num)) num = "0";
        sign = (num == (num = Math.abs(num)));
        num = Math.floor(num * 100 + 0.50000000001);
        cents = num % 100;
        num = Math.floor(num / 100).toString();
        if (cents < 10) cents = "0" + cents;
        for (var i = 0; i < Math.floor((num.length - (1 + i)) / 3); i++)
        num = num.substring(0, num.length - (4 * i + 3)) + ',' + num.substring(num.length - (4 * i + 3));
        return (((sign) ? '' : '-') + '' + num + '.' + cents);
        //document.write (((sign) ? '' : '-') + '' + num + '.' + cents);
    }
    
    function replaceChar(char){
        var temp, returnVal;
        if (char == "0")
            returnVal = "-"
        else if (char == "")
            returnVal = "-"
        else
            returnVal = char;
        return returnVal;
    }

	 function isIncomeRider(amt,rider){
		//rider.replace(/^\s+|\s$/g,"")
		//$.trim(rider)
		var temp;
		temp = $.trim(rider)
		//alert(temp + "x")
        if (temp == "HLA Income Builder" || temp == "Income 20 Rider" || temp == "Income 30 Rider" || temp == "Income 40 Rider" || temp == "Income D-20 Rider" || temp == "Income D-30 Rider" || temp == "Income D-40 Rider" || temp == "Income E-20 Rider" || temp == "Income E-30 Rider"){
        	return amt + " *";
        }
        else
        	return amt + "&nbsp;&nbsp;";
    }
	

</script>
    <style type="text/css">
    * {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
    }  
    </style>
        
</head>
 
<body onload="onBodyLoad(),setPage()" >
 <span id="lbUsers"></span>
<!-- Begin Wrapper -->
<div id="wrapper">
 
<!-- Begin Header -->
<div id="header">
  
  <div class="welcome">
  Prepared By : <span id="agentName">{agentName}</span>
  <br/>Code : <span id="agentCode">{agentCode}</span>
  </div>
  <div class="Content">Printed On : <span id="dateModified">{DateModified}</span></div>
  
</div>
<div class="main-content">
<hr/>
<table id="table-design"> 
    <tr>
	<td width="700" style="text-align:left;padding: 0px 0px 0px 5px;"><b>RISALAH PENDEDAHAN PRODUK</b></td>
	<td style="text-align:left;padding: 0px 0px 0px 5px;"><b>Hong Leong Assurance Berhad</b></td>
    </tr>
    <tr>
	<td style="text-align:left;padding: 0px 0px 0px 5px;" rowspan="2"><b>Baca Risalah Pendedahan Produk ini sebelum anda membuat keputusan untuk mengambil
	<i>Rider C+ Secure dengan <span id="PlanOption">{PlanOption}</span></i>. Pastikan anda juga membaca terma dan syarat am.</b></td>
	<td style="text-align:left;padding: 0px 0px 0px 5px;"><b>Rider C+ Secure dengan <span id="PlanOption1">{PlanOption1}</span></b></td>
    </tr>
    <tr>
	<td><b><span id="PrintDate">{PrintDate}</span></b></td>
    </tr>
</table>
    <br/>
    <table>
	<tr>
	    <td width="10">1.</td>
	    <td><b>Apakah produk ini?</b></td>
	</tr>
	<tr>
	    <td width="10"></td>
	    <td>-	Produk ini merupakan rider bertempoh tanpa penyertaan yang memberi perlindungan yang berterusan terhadap penyakit kanser pada semua peringkat.</td>
	</tr>
	
	<tr>
	    <td width="10">2.</td>
	    <td><b>Apakah perlindungan / faedah yang disediakan?</b></td>
	</tr>
	<tr>
	    <td width="10"></td>
	    <td>
		Jumlah Rider Diinsuranskan adalah RM<span id="SumAssured">{SumAssured}</span> dan tempoh diinsuranskan ialah <span id="RiderTerm">{RiderTerm}</span>
		tahun atau apabila rider ditamatkan, yang mana berlaku dahulu.<br/>
		<br/>
		<u><b>Faedah Kanser</b></u><br/>
		Jumlah Faedah seperti yang dinyatakan dalam jadual di bawah akan dibayar apabila Hayat Diinsuranskan didiagnosis dengan kanser yang di bawah perlindungan rider ini dalam tempoh diinsuranskan.
		Apabila tuntutan dimohon, semua premium yang perlu dibayar pada masa hadapan akan diabaikan kemudian dari ini.<br/>
		Jadual Pampasan:<br/>
		
	    </td>
	</tr>
	<tr>
	    <td></td>
	    <td>
		<table id="table-1" border="1" style="border-collapse: collapse" width= "70%">
		    <tr>
			<td>Diagnosis</td>
			<td>Jumlah Pampasan</td>
		    </tr>
		    <tr>
			<td>Kanser Peringkat Pra Awal</td>
			<td>RM <span id="VeryEarlyCancers">{VeryEarlyCancers} </span></td>
		    </tr>
		    <tr>
			<td>Kanser Peringkat Awal</td>
			<td>RM <span id="EarlyCancers">{EarlyCancers} </span></td>
		    </tr>
		    <tr>
			<td>Kanser Peringkat Lanjut</td>
			<td>RM <span id="AdvancedCancers">{AdvancedCancers}</span></td>
		    </tr>
		</table>
	    </td>
	</tr>
	<tr>
	    <td></td>
	    <td>
		Jumlah pampasan terhadap setiap peringkat kanser akan dikurangkan oleh sebarang pembayaran terdahulu untuk kanser pada organ yang sama atau jenis kanser yang sama dan jumlah pampasan
		    adalah setakat 300% daripada Jumlah Rider Diinsuranskan.<br/>
		Bagi Peringkat Pra Awal Kanser dan Peringkat Awal Kanser, beberapa tuntutan adalah dibenarkan untuk peringkat kategori yang sama, tertakluk kepada tuntutan tersebut adalah bagi jenis kanser
		berlainan yang menjejaskan organ berlainan.
	    </td>
	</tr>
	<tr><td></td></tr>
	<tr>
	    <td>
	    </td>
	    <td>
		<u><b>Faedah Elaun untuk Perkhidmatan Jururawat</b></u><br/>
		Setelah Hayat Diinsuranskan didiagnosis menghidapi Kanser Peringkat Lanjut oleh Pengamal Perubatan yang berdaftar, Syarikat akan membayar Pemunya Polisi atau pemegang serah haknya yang
		sah pembayaran tahunan bersamaan dengan 25% daripada Jumlah Rider Diinsuranskan bagi tempoh 2 tahun jika Hayat Diinsuranskan masih hidup apabila
		Syarikat menerima bukti kejadian tersebut.<br/><br/>
		
		<u><b>Pelanjutan Perlindungan untuk Kanser Peringkat Lanjut</b></u><br/>
		Tempoh 2 Tahun Polisi akan dilanjutkan selepas Tarikh Tamat Tempoh untuk melindungi Hayat Diinsuranskan akibat Kanser Peringkat Lanjut jika terdapat tuntutan sah terhadap Kanser Peringkat Pra
		Awal dan/atau Kanser Peringkat Awal bagi jenis sama atau pada organ yang sama sebelum Tarikh Tamat Tempoh.
	    </td>
	</tr>
	<tr>
	    <td></td>
	    <td>
		<span id="OptionalText">{OptionalText}</span>
		<br/><br/>
		<span id="OptionalText1">{OptionalText1}</span>
	    </td>
	</tr>
	<tr><td></td></tr>
	<tr>
	    <td>3.</td>
	    <td><b>Berapakah premium yang perlu saya bayar?</b></td>
	</tr>
	<tr><td></td></tr>
	<tr>
	    <td></td>
	    <td>-	Jumlah premium yang perlu anda bayar dan tempoh polisi mungkin berbeza mengikut keperluan penanggungjaminan syarikat insurans.</td>
	</tr>
	<tr><td></td></tr>
	<tr>
	    <td></td>
	    <td>	Anggaran jumlah premium yang perlu anda bayar:</td>
	    
	</tr>
	<tr>
	    <td></td>
	    <td>
		<table id="table-2" style="border-collapse: collapse" border="1" width="70%">
		    <tr>
			<td rowspan="2">Rider</td>
			<td colspan="4">Premium Awal</td>
		    </tr>
		    <tr>
			<td>Tahunan (RM)</td>
			<td>Setengah Tahunan (RM)</td>
			<td>Suku Tahunan (RM)</td>
			<td>Bulanan (RM)</td>
		    </tr>
		    <tr>
			<td>C+ Secure dengan <span id="PlanOption2">{PlanOption2}</span></td>
			<td><span id="ValueA">{ValueA}</span></td>
			<td><span id="ValueB">{ValueB}</span></td>
			<td><span id="ValueC">{ValueC}</span></td>
			<td><span id="ValueD">{ValueD}</span></td>
		    </tr>
		</table>    
	    </td>
	    
	</tr>
	<tr>
	    <td></td>
	    <td>Tempoh premium:</td>
	</tr>
	<tr>
	    <td></td>
	    <td>
		<table id="table-3" style="border-collapse: collapse" border="1" width="50%">
		    <tr>
			<td>Rider</td>
			<td>Premium akan dibayar sehingga umur</td>
		    </tr>
		    <tbody>
			<td>C+ Secure dengan <span id="PlanOption3">{PlanOption3}</span></td>
			<td><span id="PayableAge">{PayableAge}</span></td>
		    </tbody>
		</table>    
	    </td>
	</tr>
	<tr>
	    <td></td>
	    <td>Premium adalah tidak terjamin dan tertakluk kepada semakan semula Syarikat pada bila-bila masa dan dari semasa ke semasa dengan memberi notis secara bertulis sekurang-kurangnya 90 hari
		    kepada anda.</td>
	</tr>
    </table>
	
<table style="border-collapse:collapse;border:0px solid black;width:100%;">
	<tr>
	<td width="80%" style="font-family:Arial;font-size:10px;font-weight:normal;padding: 5px 5px 5px 0px;">
	    Risalah Pendedahan Produk ini mengandungi <span class="totalPages">{totalPages}</span> muka surat and setiap muka surat membentuk sebahagian daripada Risalah Pendedahan Produk. Bakal pemunya polisi
	    adalah dinasihatkan untuk membaca dan memahami maklumat yang tercetak pada setiap muka surat. <br/>
	    <b><span id="rptVersion">{rptVersion}</span></b> <br/>
	    Level 3, Tower B, PJ City Development, No. 15A Jalan 219, Seksyen 51A, 46100 Petaling Jaya, Selangor. Tel: 03-7650 1818 Fax: 03-7650 1991 Website: www.hla.com.my<br/>
	</td>
	<td width="7%" align="left" valign="bottom" style="font-family:Arial;font-size:10px;font-weight:normal;">Page <span class="currentPagePDS">{currentPagePDS}</span> of <span class="totalPagesPDS">{totalPagesPDS}</span></td>
	<td width="13%" align="right" valign="bottom" style="font-family:Arial;font-size:12px;font-weight:normal;">Ref: <span id=SICode>{SINo}</span></td>
    </tr>
</table>
<!-- End Footer -->
 
<!-- End Wrapper -->
 
</body>
</html>


