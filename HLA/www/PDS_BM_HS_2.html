<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="format-detection" content="telephone=no">
<title>HLA</title>
<meta name="viewport" content="user-scalable=1, initial-scale=1, maximum-scale=5, minimum-scale=1, target-densitydpi=device-dpi" />
<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" charset="utf-8" src="cordova-2.1.0.js"></script>
<script type="text/javascript" charset="utf-8" src="js/jquery-1.8.2.min.js"></script>
<script type="text/javascript" charset="utf-8" src="js/hla.js"></script>
<script type="text/javascript" charset="utf-8">
    var db;
    var shortName = 'WebSqlDB';
    var version = '1.0';
    var displayName = 'WebSqlDB';
    var maxSize = 65535;
    var siNo = '';
    var planCode = '';
    var planName = '';
    var cashPaymentD = '';
    var mcashPaymentD = '';
    var HMMRiderTerm = '';
    var FirstAge = '';
    //var cashPayment = 0;
    
    function errorHandler(transaction, error) {
        alert('Error: ' + error.message + ' code: ' + error.code);
    }
    
    function successCallBack() {
        alert("DEBUGGING: success");
        
    }
    
    function nullHandler(){};
    
    function onBodyLoad(){
        //alert($('#aa').text())
    	//alert("DEBUGGING: we are in the onBodyLoad() function");
        if (!window.openDatabase) {
            alert('Databases are not supported in this browser.');
            return;
        }
            
        db = openDatabase(shortName, version, displayName,maxSize);
        ListDBValues();
        calcTotal();
    }
    
    function dbexe(){
        db.transaction(function(transaction) {
                       transaction.executeSql('SELECT * FROM SI_Temp_Trad_Details;', [], function(transaction, result) {
                                              if (result != null && result.rows != null) {
                                              var row;
                                              for (var i = 0; i < result.rows.length; i++) {
                                              var row = result.rows.item(i);
                                              }
        
                                              }
                                              },errorHandler);
                       },errorHandler,nullHandler);
    }
    
    function ListDBValues() {
        
        if (!window.openDatabase) {
            alert('Databases are not supported in this browser.');
            return;
        }
        
        
        db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM SI_Temp_Trad", [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row;
                    for (var i = 0; i < result.rows.length; i++) {
                        var row = result.rows.item(i);
                        $('#SICode').html(row.SINo);
                        siNo = row.SINo;
                        planName = row.PlanName;
                        planCode = row.PlanCode;                    
                    }
                }
                else{
			alert('No data can be found');
                    }
                                   
            },errorHandler);
        },errorHandler,nullHandler);
        
	db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM Trad_Rider_Details WHERE SINo = '" + siNo + "' AND RiderCode = 'HSP_II'", [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row = result.rows.item(0);
    		    HMMRiderTerm = row.RiderTerm;
		    $('#PlanOption').html(row.PlanOption);
                }
            },errorHandler);
        },errorHandler,nullHandler);
	
	db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM Trad_Details WHERE SINo = '" + siNo + "'", [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row = result.rows.item(0);
                	
			var now = new Date();
			var displayDate = now.getDate() + '/' + (now.getMonth() + 1) + '/' + now.getFullYear();
			var displayDateFull = now.getDate() + '/' + (now.getMonth() + 1) + '/' + now.getFullYear() + ' ' + now.getHours() + ':' + now.getMinutes() + ':' + now.getSeconds();
			$('#dateModified').html(displayDateFull);
			$('#PrintDate').html(displayDate);
                }
            },errorHandler);
        },errorHandler,nullHandler);
	
	db.transaction(function(transaction) {
            transaction.executeSql('SELECT * FROM SI_Store_Premium WHERE Type = "HSP_II" AND FromAge IS NULL;', [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row;
		    var row = result.rows.item(0);
		    $('#ValueA').html(row.Annually);                      
		    $('#ValueB').html(row.SemiAnnually);
		    $('#ValueC').html(row.Quarterly);
		    $('#ValueD').html(row.Monthly);
		    HMMRiderPrem = row.Annually.replace(',', '');
                }
            },errorHandler);
        },errorHandler,nullHandler);
	
	db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM SI_Temp_Trad_LA where SINo = '" + siNo + "'", [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row;
                    if(result.rows.length == 1){
	                  var row = result.rows.item(0);
			 FirstAge = row.Age;
			 $('#PayableAge').html(parseInt(HMMRiderTerm) + parseInt(FirstAge));                      
                    }
		    
                }
            },errorHandler);
        },errorHandler,nullHandler);
	
	db.transaction(function(transaction) {
	    
	    var PolicyTerm;
	    if(HMMRiderTerm > 21){
		PolicyTerm =20;
	    }
	    else{
		PolicyTerm = HMMRiderTerm;
	    }
	    
            transaction.executeSql("SELECT * FROM Trad_Sys_Commission WHERE polTerm = '" + PolicyTerm + "' ORDER BY PolYear ASC", [], function(transaction, result) {
		
                if (result != null && result.rows != null) {
		    
                    for(var i = 1; i <=result.rows.length; i++){
			
			var row = result.rows.item(i-1);
			
			$('#Year'+i).html(formatCurrency(parseFloat(row.Rate)/100 * parseFloat(HMMRiderPrem)));                      
			
		    }
                }
            },errorHandler);
        },errorHandler,nullHandler);
	
        return;
    }
    
    function calcTotal(){
        //alert($('#row0col5').text())
    }

    function formatCurrency(num) {
        if(num == '-'){
            return ('-');
        }
        num = num.toString().replace(/\$|\,/g, '');
        if (isNaN(num)) num = "0";
        sign = (num == (num = Math.abs(num)));
        num = Math.floor(num * 100 + 0.50000000001);
        cents = num % 100;
        num = Math.floor(num / 100).toString();
        if (cents < 10) cents = "0" + cents;
        for (var i = 0; i < Math.floor((num.length - (1 + i)) / 3); i++)
        num = num.substring(0, num.length - (4 * i + 3)) + ',' + num.substring(num.length - (4 * i + 3));
        return (((sign) ? '' : '-') + '' + num + '.' + cents);
        //document.write (((sign) ? '' : '-') + '' + num + '.' + cents);
    }
    
    function replaceChar(char){
        var temp, returnVal;
        if (char == "0")
            returnVal = "-"
        else if (char == "")
            returnVal = "-"
        else
            returnVal = char;
        return returnVal;
    }

	 function isIncomeRider(amt,rider){
		//rider.replace(/^\s+|\s$/g,"")
		//$.trim(rider)
		var temp;
		temp = $.trim(rider)
		//alert(temp + "x")
        if (temp == "HLA Income Builder" || temp == "Income 20 Rider" || temp == "Income 30 Rider" || temp == "Income 40 Rider" || temp == "Income D-20 Rider" || temp == "Income D-30 Rider" || temp == "Income D-40 Rider" || temp == "Income E-20 Rider" || temp == "Income E-30 Rider"){
        	return amt + " *";
        }
        else
        	return amt + "&nbsp;&nbsp;";
    }
	

</script>
    <style type="text/css">
    * {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
    }  
    </style>
        
</head>
 
<body onload="onBodyLoad(),setPage()" >
 <span id="lbUsers"></span>
<!-- Begin Wrapper -->
<div id="wrapper">
 
<!-- Begin Header -->
<div id="header">
  
  <div class="welcome">
  Prepared By : <span id="agentName">{agentName}</span>
  <br/>Code : <span id="agentCode">{agentCode}</span>
  </div>
  <div class="Content">Printed On : <span id="dateModified">{DateModified}</span></div>
  
</div>
<hr/>
<div class="main-content">
    
    <table>
	
	
	<tr>
	    <td width="10" valign="top">3.</td>
	    <td>
		<b>Berapakah premium yang perlu saya bayar?</b>
	    </td>
	</tr>
	<tr>
	    <td></td>
	    <td>
		-	Jumlah premium yang perlu anda bayar dan tempoh polisi mungkin berbeza mengikut keperluan penanggungjaminan syarikat insurans.<br/><br/>
		Anggaran jumlah premium yang perlu anda bayar:
	    </td>
	</tr>
	<tr><td></td></tr>
	<tr>
	    <td></td>
	    <td>
		<table id="table-2" style="border-collapse: collapse" border="1" width="70%">
		    <tr>
			<td rowspan="2">Rider</td>
			<td colspan="4">Premium Awal</td>
		    </tr>
		    <tr>
			<td>Tahunan (RM)</td>
			<td>Setengah Tahunan (RM)</td>
			<td>Suku Tahunan (RM)</td>
			<td>Bulanan (RM)</td>
		    </tr>
		    <tr>
			<td>Hospital & Surgical Plus II <span id="PlanOption">{PlanOption}</span></td>
			<td><span id="ValueA">{ValueA}</span></td>
			<td><span id="ValueB">{ValueB}</span></td>
			<td><span id="ValueC">{ValueC}</span></td>
			<td><span id="ValueD">{ValueD}</span></td>
			
		    </tr>
		</table>    
	    </td>
	    
	</tr>
	<tr><td>&nbsp;</td></tr>
	<tr>
	    <td></td>
	    <td>Tempoh premium:</td>
	</tr>
	<tr>
	    <td></td>
	    <td>
		<table id="table-3" style="border-collapse: collapse" border="1" width="50%">
		    <tr>
			<td>Rider</td>
			<td>Premium akan dibayar sehingga umur</td>
		    </tr>
		    <tbody>
			<td>Hospital & Surgical Plus II </td>
			<td><span id="PayableAge">{PayableAge}</span></td>
		    </tbody>
		</table>    
	    </td>
	</tr>
	<tr>
	    <td></td>
	    <td>-	Premium adalah tidak terjamin dan tertakluk kepada semakan semula Syarikat pada bila-bila masa dan dari semasa ke semasa dengan memberi notis secara bertulis sekurang-kurangnya 90 hari
		kepada anda.</td>
	</tr>
	<tr>
	    <td width="10" valign="top">4.</td>
	    <td valign="top"><b>Apakah yuran dan bayaran yang perlu saya bayar?</b></td>
	</tr>
	<tr><td>&nbsp;</td></tr>
	<tr>
	    <td width="10" valign="top"></td>
	    <td valign="top">
		<table id="table-1" border="1" style="border-collapse: collapse" width="70%">
		    <tr>
			<td width="50%" >Jenis</td>
			<td>Jumlah</td>
		    </tr>
		    <tr>
			<td>Kos Pengagihan Langsung yang dibayar kepada ejen insurans</td>
			<td></td>
		    </tr>
		    <tr>
			<td>Tahun 1</td>
			<td><span id="Year1">{Year1}</span></td>
		    </tr>
		    <tr>
			<td>Tahun 2</td>
			<td><span id="Year2">{Year2}</span></td>
		    </tr>
		    <tr>
			<td>Tahun 3</td>
			<td><span id="Year3">{Year3}</span></td>
		    </tr>
		    <tr>
			<td>Tahun 4</td>
			<td><span id="Year4">{Year4}</span></td>
		    </tr>
		    <tr>
			<td>Tahun 5</td>
			<td><span id="Year5">{Year5}</span></td>
		    </tr>
		    <tr>
			<td>Tahun 6</td>
			<td><span id="Year6">{Year6}</span></td>
		    </tr>
		    <tr>
			<td>Selepas itu</td>
			<td><span id="Year7">{Year7}</span></td>
		    </tr>
		    
		</table>
	    </td>
	</tr>
	<tr>
	    <td width="10" valign="top">5.</td>
	    <td valign="top"><b>Apakah antara terma dan syarat utama yang perlu saya ketahui?</b></td>
	</tr>
	<tr><td>&nbsp;</td></tr>
	<tr>
	    <td width="10" valign="top"></td>
	    <td valign="top">
		- Kepentingan pendedahan - anda mestilah mendedahkan semua fakta penting seperti keadaan perubatan, dan nyatakan umur anda dengan betul.<br/>
		- Tempoh bertenang - anda boleh membatalkan polisi anda dengan mengembalikan polisi dalam tempoh 15 hari setelah anda menerima polisi tersebut. Premium yang telah anda bayar (selepas tolak
		perbelanjaan perubatan yang telah dibuat) akan dipulangkan kepada anda.<br/>
		- Tempoh kelayakan / menunggu - kelayakan untuk faedah-faedah ditawarkan oleh polisi ini hanya akan bermula 30 hari selepas tarikh polisi berkuat kuasa.<br/>
		- Melainkan dibaharui, perlindungan akan tamat pada tarikh tamat tempoh dan syarikat insurans tidak akan bertanggungan sama sekali bagi apa-apa perbelanjaan yang timbul selepas tarikh tamat
		tempoh.<br/>
		- Insurans bersama - anda perlu menanggung jumlah insurans bersama sebanyak 10% daripada jumlah yang dituntut bagi Setiap Satu Hilang Upaya seperti yang diberikan oleh Syarikat atau wang sejumlah
		RM300, mengikut mana-mana yang lebih tinggi, tertakluk kepada jumlah maksimum mutlak sebanyak RM3,000 (hanya terpakai kepada pelan Standard)<br/><br/>
		
		<i>Nota: Senarai ini tidak lengkap. Sila rujuk kontrak polisi untuk mendapatkan terma dan syarat di bawah polisi ini</i>
	    </td>
	</tr>
	<tr><td>&nbsp;</td></tr>
	<tr>
	    <td width="10" valign="top">6.</td>
	    <td valign="top"><b>Apakah pengecualian utama di bawah polisi ini?</b><br/><br/>
		Polisi ini tidak melindungi apa-apa Penghospitalan, Pembedahan atau bayaran yang disebabkan secara langsung atau tidak langsung, sepenuhnya atau sebahagiannya, oleh mana-mana satu daripada
		kejadian berikut:<br/><br/>
		
		- Penyakit Pra-wujud.
		
	    </td>
	</tr>
	
    </table>
	
<table style="border-collapse:collapse;border:0px solid black;width:100%;">
	<tr>
	<td width="80%" style="font-family:Arial;font-size:10px;font-weight:normal;padding: 5px 5px 5px 0px;">
	    Risalah Pendedahan Produk ini mengandungi <span class="totalPagesPDS">{totalPagesPDS}</span> muka surat and setiap muka surat membentuk sebahagian daripada Risalah Pendedahan Produk. Bakal pemunya polisi
	    adalah dinasihatkan untuk membaca dan memahami maklumat yang tercetak pada setiap muka surat. <br/>
	    <b><span id="rptVersion">{rptVersion}</span></b> <br/>
	    Level 3, Tower B, PJ City Development, No. 15A Jalan 219, Seksyen 51A, 46100 Petaling Jaya, Selangor. Tel: 03-7650 1818 Fax: 03-7650 1991 Website: www.hla.com.my<br/>
	</td>
	<td width="7%" align="left" valign="bottom" style="font-family:Arial;font-size:10px;font-weight:normal;">Page <span class="currentPagePDS">{currentPagePDS}</span> of <span class="totalPagesPDS">{totalPagesPDS}</span></td>
	<td width="13%" align="right" valign="bottom" style="font-family:Arial;font-size:12px;font-weight:normal;">Ref: <span id=SICode>{SINo}</span></td>
    </tr>
</table>
<!-- End Footer -->
 
<!-- End Wrapper -->
 
</body>
</html>


