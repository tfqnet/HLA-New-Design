<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="format-detection" content="telephone=no">
<title>HLA</title>
<meta name="viewport" content="user-scalable=1, initial-scale=1, maximum-scale=5, minimum-scale=1, target-densitydpi=device-dpi" />
<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" charset="utf-8" src="cordova-2.1.0.js"></script>
<script type="text/javascript" charset="utf-8" src="js/jquery-1.8.2.min.js"></script>
<script type="text/javascript" charset="utf-8" src="js/hla.js"></script>
<script type="text/javascript" charset="utf-8">
    var db;
    var shortName = 'WebSqlDB';
    var version = '1.0';
    var displayName = 'WebSqlDB';
    var maxSize = 65535;
    var siNo = '';
    var planCode = '';
    var planName = '';
    var cashPaymentD = '';
    var mcashPaymentD = '';
    var FirstAge = '';
    //var cashPayment = 0;
    var LCWPSA = '';
    var CIWPSA = '';
    var PRSA = '';
    var SP_STDSA = '';
    var SP_PRESA = '';
    var PA = '';
    var CustCode = '';
    
    function errorHandler(transaction, error) {
        alert('Error: ' + error.message + ' code: ' + error.code);
    }
    
    function successCallBack() {
        alert("DEBUGGING: success");
        
    }
    
    function nullHandler(){};
    
    function onBodyLoad(){
        //alert($('#aa').text())
    	//alert("DEBUGGING: we are in the onBodyLoad() function");
        if (!window.openDatabase) {
            alert('Databases are not supported in this browser.');
            return;
        }
            
        db = openDatabase(shortName, version, displayName,maxSize);
        ListDBValues();
        calcTotal();
    }
    
    function dbexe(){
        db.transaction(function(transaction) {
                       transaction.executeSql('SELECT * FROM SI_Temp_Trad_Details;', [], function(transaction, result) {
                                              if (result != null && result.rows != null) {
                                              var row;
                                              for (var i = 0; i < result.rows.length; i++) {
                                              var row = result.rows.item(i);
                                              }
        
                                              }
                                              },errorHandler);
                       },errorHandler,nullHandler);
    }
    
    function ListDBValues() {
        
        if (!window.openDatabase) {
            alert('Databases are not supported in this browser.');
            return;
        }
        
        db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM SI_Temp_Trad", [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row;
                    for (var i = 0; i < result.rows.length; i++) {
                        var row = result.rows.item(i);
                        $('#SICode').html(row.SINo);
                        siNo = row.SINo;
                        planName = row.PlanName;
                        planCode = row.PlanCode;                    
                    }
                }
                else{
			alert('No data can be found');
                    }
                                   
            },errorHandler);
        },errorHandler,nullHandler);
        
	db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM Trad_Details WHERE SINo = '" + siNo + "'", [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row = result.rows.item(0);
		    var ggg = row.UpdatedAt;
		    //var now = new Date(ggg.substring(0, 10));
		    var now = new Date();
		    
		    var displayDate = now.getDate() + '/' + (now.getMonth() + 1) + '/' + now.getFullYear();
		    var displayDateFull = now.getDate() + '/' + (now.getMonth() + 1) + '/' + now.getFullYear() + ' ' + now.getHours() + ':' + now.getMinutes() + ':' + now.getSeconds();
		    
                    $('#dateModified').html(displayDateFull);
                    $('#dateModified2').html(displayDate);
                }
            },errorHandler);
        },errorHandler,nullHandler);
	
	db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM Trad_Rider_Details WHERE SINo = '" + siNo + "' AND RiderCode = 'LCWP' ", [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row = result.rows.item(0);
                    LCWPSA = row.SumAssured;
                }
		else{
		    LCWPSA = '';
		}
            },errorHandler);
        },errorHandler,nullHandler);
	
	db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM Trad_Rider_Details WHERE SINo = '" + siNo + "' AND RiderCode = 'CIWP' ", [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row = result.rows.item(0);
                    CIWPSA = row.SumAssured;
                }
		else{
		    CIWPSA = '';
		}
            },errorHandler);
        },errorHandler,nullHandler);
	
	db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM Trad_Rider_Details WHERE SINo = '" + siNo + "' AND RiderCode = 'PR' ", [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row = result.rows.item(0);
                    PRSA = row.SumAssured;
                }
		else{
		    PRSA = '';
		}
            },errorHandler);
        },errorHandler,nullHandler);
	
	db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM Trad_Rider_Details WHERE SINo = '" + siNo + "' AND RiderCode = 'SP_PRE' ", [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row = result.rows.item(0);
                    SP_PRESA = row.SumAssured;
                }
		else{
		    SP_PRESA = '';
		}
            },errorHandler);
        },errorHandler,nullHandler);
	
	db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM Trad_Rider_Details WHERE SINo = '" + siNo + "' AND RiderCode = 'SP_STD' ", [], function(transaction, result) {
                if (result != null && result.rows != null) {
                    var row = result.rows.item(0);
                    SP_STDSA = row.SumAssured;
                }
		else{
		    SP_STDSA = '';
		}
            },errorHandler);
        },errorHandler,nullHandler);
	
	db.transaction(function(transaction) {
            transaction.executeSql("SELECT * FROM Trad_LAPayor where SINO = '" + siNo + "' AND PTypeCode = 'LA' AND Sequence = '1' ", [], function(transaction, result) {
                
		if (result != null && result.rows != null) {
		    var row = result.rows.item(0);
		     CustCode = row.CustCode;
		     
                }
                else{
			alert('No data can be found');
                    }
		                  
            },errorHandler);
	    
        },errorHandler,nullHandler);
	
	db.transaction(function(transaction) {
            
	    transaction.executeSql("select PA from clt_profile AS A, Adm_Occp_Loading as B where A.OccpCode = B.OccpCode AND custcode = '" + CustCode + "' ", [], function(transaction, result) {
		if (result != null && result.rows != null) {
		    var row = result.rows.item(0);
		    PA = row.PA;
		    
		}
	     
	    },errorHandler);
        },errorHandler,nullHandler);
	
	
        db.transaction(function(transaction) {
            transaction.executeSql('select RiderDesc, "Jika anda menamatkan rider ini sebelum tempoh matang, anda akan mendapat kurang daripada jumlah yang telah anda bayar." as Desc, A.RiderCode from trad_rider_details as A, '+
				   'trad_sys_rider_profile as B where A.RiderCode = B.RiderCode and sino = "' + siNo  + '" and A.RiderCode Not in ("MG_II","MG_IV", "C+","HSP_II","HMM") ;'
				   , [], function(transaction, result) {
                
		if (result != null && result.rows != null) {
		    
		    if(result.rows.length == 0){
			
			document.getElementById('hide').style.visibility = "hidden";
		    }
		    else{
			var row;
			for (var i = 0; i < result.rows.length; i++) {
			    var row = result.rows.item(i);
			    
			    if(row.RiderCode == 'LCWP'){
				$('#table-Cancel > tbody').append('<tr>' + '<td style="text-align:left;padding: 0px 0px 0px 5px;">' + row.RiderDesc + '(' + LCWPSA + '%)</td>' + '<td>' + row.Desc + '</td>' + '</tr>');
			    }
			    else if(row.RiderCode == 'CIWP'){
				$('#table-Cancel > tbody').append('<tr>' + '<td style="text-align:left;padding: 0px 0px 0px 5px;">' + row.RiderDesc + '(' + CIWPSA + '%)</td>' + '<td>' + row.Desc + '</td>' + '</tr>');
			    }
			    else if(row.RiderCode == 'PR'){
				$('#table-Cancel > tbody').append('<tr>' + '<td style="text-align:left;padding: 0px 0px 0px 5px;">' + row.RiderDesc + '(' + PRSA + '%)</td>' + '<td>' + row.Desc + '</td>' + '</tr>');
			    }
			    else if(row.RiderCode == 'SP_PRE'){
				$('#table-Cancel > tbody').append('<tr>' + '<td style="text-align:left;padding: 0px 0px 0px 5px;">' + row.RiderDesc + '(' + SP_PRESA + '%)</td>' + '<td>' + row.Desc + '</td>' + '</tr>');
			    }
			    else if(row.RiderCode == 'SP_STD'){
				$('#table-Cancel > tbody').append('<tr>' + '<td style="text-align:left;padding: 0px 0px 0px 5px;">' + row.RiderDesc + '(' + SP_STDSA + '%)</td>' + '<td>' + row.Desc + '</td>' + '</tr>');
			    }
			    else if(row.RiderCode == 'CPA' || row.RiderCode == 'PA'){
				$('#table-Cancel > tbody').append('<tr>' + '<td style="text-align:left;padding: 0px 0px 0px 5px;">' + row.RiderDesc + '(Class' + PA  +')</td>' + '<td>Jika rider ini ditamatkan sebelum tempoh matang, tidak akan ada pembayaran balik dan penamatan tersebut akan berkuat kuasa dari tarikh genap tempoh premium yang berikutnya jika Polisi Asas masih berkuat kuasa.</td>' + '</tr>');
			    }
			    else if(row.RiderCode == 'ETPD' || row.RiderCode == 'ICR' ){
				$('#table-Cancel > tbody').append('<tr>' + '<td style="text-align:left;padding: 0px 0px 0px 5px;">' + row.RiderDesc + '</td>' + '<td>Jika rider ini ditamatkan sebelum tempoh matang, tidak akan ada pembayaran balik dan penamatan tersebut akan berkuat kuasa dari tarikh genap tempoh premium yang berikutnya jika Polisi Asas masih berkuat kuasa.</td>' + '</tr>');
			    }
			    else if(row.RiderCode == 'HB'){
				$('#table-Cancel > tbody').append('<tr>' + '<td style="text-align:left;padding: 0px 0px 0px 5px;">' + row.RiderDesc + '</td>' + '<td>Kika tiada tuntutan dibuat, anda akan menerima kembali premium yang ditetapkan.</td>' + '</tr>');
			    }
			    
			    else{
				$('#table-Cancel > tbody').append('<tr>' + '<td style="text-align:left;padding: 0px 0px 0px 5px;">' + row.RiderDesc + '</td>' + '<td>' + row.Desc + '</td>' + '</tr>');
			    }
			    
			}    
		    }
		    
                }
		else{
		    document.getElementById('hide').style.visibility = "hidden";
		}
            },errorHandler);
        },errorHandler,nullHandler);
        
        return;
    }
    
    function calcTotal(){
        //alert($('#row0col5').text())
    }

    function formatCurrency(num) {
        if(num == '-'){
            return ('-');
        }
        num = num.toString().replace(/\$|\,/g, '');
        if (isNaN(num)) num = "0";
        sign = (num == (num = Math.abs(num)));
        num = Math.floor(num * 100 + 0.50000000001);
        cents = num % 100;
        num = Math.floor(num / 100).toString();
        if (cents < 10) cents = "0" + cents;
        for (var i = 0; i < Math.floor((num.length - (1 + i)) / 3); i++)
        num = num.substring(0, num.length - (4 * i + 3)) + ',' + num.substring(num.length - (4 * i + 3));
        return (((sign) ? '' : '-') + '' + num + '.' + cents);
        //document.write (((sign) ? '' : '-') + '' + num + '.' + cents);
    }
    
    function replaceChar(char){
        var temp, returnVal;
        if (char == "0")
            returnVal = "-"
        else if (char == "")
            returnVal = "-"
        else
            returnVal = char;
        return returnVal;
    }

	 function isIncomeRider(amt,rider){
		//rider.replace(/^\s+|\s$/g,"")
		//$.trim(rider)
		var temp;
		temp = $.trim(rider)
		//alert(temp + "x")
        if (temp == "HLA Income Builder" || temp == "Income 20 Rider" || temp == "Income 30 Rider" || temp == "Income 40 Rider" || temp == "Income D-20 Rider" || temp == "Income D-30 Rider" || temp == "Income D-40 Rider" || temp == "Income E-20 Rider" || temp == "Income E-30 Rider"){
        	return amt + " *";
        }
        else
        	return amt + "&nbsp;&nbsp;";
    }
	

</script>
    <style type="text/css">
    * {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
    }  
    </style>
        
</head>
 
<body onload="onBodyLoad(),setPage()">
 <span id="lbUsers"></span>
<!-- Begin Wrapper -->
<div id="wrapper">
 
<!-- Begin Header -->
<div id="header">
  
  <div class="welcome">
     Prepared By : <span id="agentName">{agentName}</span>
      <br/>Code : <span id="agentCode">{agentCode}</span>
  </div>
  <div class="Content">Printed On : <span id="dateModified">{DateModified}</span></div>
    
</div>
<hr/>
<div class="main-content">

    <table>
	<tr>
	    <td><b>7.</b></td>
	    <td>
		<b>Bolehkah saya membatalkan polisi saya?</b>
	    </td>
	</tr>
	<tr><td></td></tr>
	<tr>
	    <td></td>
	    <td><b>A)</b>&nbsp;&nbsp;&nbsp;&nbsp;<u><b>Pelan Asas</b></u></td>
	</tr>
	<tr>
	    <td></td>
	    <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Anda boleh membatalkan polisi dengan memberi notis bertulis kepada Hong Leong Assurance Berhad. Setelah tempoh bertenang, nilai penyerahan tunai (jika ada) polisi anda akan dibayar kepada anda ketika anda<br/>
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;membatalkan polisi anda; namun begitu, amaun yang dibayar mungkin kurang daripada jumlah premium yang anda bayar.
	    </td>
	</tr>
	
	<tr id="hide">
	    <td></td>
	    <td>
		<b>B)</b>&nbsp;&nbsp;&nbsp;&nbsp;<u><b>Rider yang Dilampirkan</b></u><br/>
		<table border="1" style="border-collapse: collapse;margin-left: 20px" id="table-Cancel" width="94%">
		    <thead>
			<tr>
			    <td align="left"><b>Rider</b></td>
			    <td ><b>Hak Pembatalan</b></td>
			</tr>
			
		    </thead>
		    <tbody>
			<!--sql data here-->
		    </tbody>
		    
		</table>
	    </td>
	</tr>
	<tr><td>&nbsp;</td></tr>
	<tr>
	    <td><b>8.</b></td>
	    <td>
		<b>Apakah yang perlu saya lakukan jika saya bertukar alamat dan nombor telefon?</b>
	    </td>
	</tr>
	<tr><td></td></tr>
	<tr>
	    <td></td>
	    <td>
		Anda mestilah memaklumkan kami tentang sebarang perubahan maklumat perhubungan anda (termasuk maklumat tentang penama dan/atau pemegang amanah) bagi memastikan anda menerima semua
		surat-menyurat sampai kepada anda dan/atau penama/pemegang amanah tepat pada masanya.
	    </td>
	</tr>
	<tr><td></td></tr>
	<tr>
	    <td valign="top"><b>9.</b> </td>
	    <td valign="top">
		<b>Di manakah boleh saya dapatkan maklumat lanjut?</b>
		
	    </td>
	</tr>
	<tr><td></td></tr>
	<tr>
	    <td valign="top"></td>
	    <td valign="top">
		Jika anda memerlukan maklumat lanjut tentang insurans hayat, sila rujuk buku panduan insuranceinfo tentang "Insurans Hayat" yang disediakan di semua cawangan kami atau anda boleh mendapatkannya daripada
		ejen insurans atau layari laman web www.insuranceinfo.com.my.
	    </td>
	</tr>
	<tr><td></td></tr>
	<tr>
	    <td valign="top"></td>
	    <td valign="top">
		Jika anda mempunyai sebarang pertanyaan, sila hubungi kami di:
	    </td>
	</tr>
	<tr><td></td></tr>
	<tr>
	    <td valign="top"></td>
	    <td valign="top"><b>Talian Perkhidmatan Pelanggan: 03-76501288 atau</b></td>
	</tr>
	<tr><td></td></tr>
	<tr>
	    <td></td>
	    <td>
		<b>Customer Service Department<br/>
		Level 3, Tower B, PJ City Development<br/>
		No 15A, Jalan 219, Seksyen 51A<br/>
		46100 Petaling Jaya, Selangor<br/>
		P.O.Box 120, 46710 Petaling Jaya<br/><br/>
		Tel: 03 - 7650 1818<br/>
		Fax: 03 - 7650 1991<br/>
		Website: www.hla.com.my<br/></b>
	    </td>
	</tr>
	<tr><td></td></tr>
	<tr>
	    <td><b>10.</b></td>
	    <td>
		<b>Jenis perlindungan lain seumpamanya yang disediakan</b>
	    </td>
	</tr>
	<tr>
	    <td></td>
	    <td>
		Sila rujuk ejen kami untuk mengetahui jenis perlindungan lain seumpamanya yang disediakan.
	    </td>
	</tr>
	<tr><td></td></tr>
	
	<tr>
	    <td></td>
	    <td>
		<b>NOTA PENTING:</b><br/>
		<b>MEMBELI POLISI INSURANS HAYAT MERUPAKAN KOMITMEN KEWANGAN JANGKA PANJANG. ANDA MESTILAH MEMILIH JENIS POLISI YANG PALING SESUAI DENGAN ANDA. ANDA HENDAKLAH
		    MEMBACA DAN MEMAHAMI POLISI INSURANS DAN BERBINCANG DENGAN EJEN ATAU HUBUNGI TERUS SYARIKAT INSURANS UNTUK MENDAPATKAN MAKLUMAT LANJUT.</b>
	    </td>
	</tr>
	<tr><td></td></tr>
	<tr>
	    <td></td>
	    <td>
		Maklumat yang disediakan dalam risalah pendedahan ini adalah sah setakat <span id="dateModified2">{DateModified2}</span>
	    </td>
	</tr>
    </table>
	
<table style="border-collapse:collapse;border:0px solid black;width:100%;">
    <tr>
	<td width="80%" style="font-family:Arial;font-size:10px;font-weight:normal;padding: 5px 5px 5px 0px;">
	    Risalah Pendedahan Produk ini mengandungi <span class="totalPagesPDS">{totalPagesPDS}</span> muka surat and setiap muka surat membentuk sebahagian daripada Risalah Pendedahan Produk. Bakal pemunya polisi
	    adalah dinasihatkan untuk membaca dan memahami maklumat yang tercetak pada setiap muka surat. <br/>
	    <b><span id="rptVersion">{rptVersion}</span></b> <br/>
	    Level 3, Tower B, PJ City Development, No. 15A Jalan 219, Seksyen 51A, 46100 Petaling Jaya, Selangor. Tel: 03-7650 1818 Fax: 03-7650 1991 Website: www.hla.com.my<br/>
	</td>
	<td width="7%" align="left" valign="bottom" style="font-family:Arial;font-size:10px;font-weight:normal;">Page <span class="currentPagePDS">{currentPagePDS}</span> of <span class="totalPagesPDS">{totalPagesPDS}</span></td>
	<td width="13%" align="right" valign="bottom" style="font-family:Arial;font-size:12px;font-weight:normal;">Ref: <span id=SICode>{SINo}</span></td>
    </tr>
</table>
<!-- End Footer -->
 
<!-- End Wrapper -->
 
</body>
</html>


